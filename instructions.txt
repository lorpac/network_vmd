INSTRUCTIONS:

run:
python create_net.py pdb_id

    example:
    C:\Users\Lorenza\Documents\VMDscript>py create_net.py 1f41

then follow Aria's instructions (see below):

python network_vmd.py pdb_file.pdb pickled_network.p output.tcl

    example:
    C:\Users\Lorenza\Documents\VMDscript>py network_vmd.py data/pdbs/pdb1f41.ent 1f41.p 1f41.tcl -nc 1

    NOTE: create_net.py has saved a copy of the pdb file in data/pdbs/

open the pdb file with VMD

in the Tk console, navigate to your folder and run source output.tcl

    example:
    Main console display active (Tcl8.5.6 / Tk8.5.6)
    (VMD) 1 % cd ..
    >Main< (University of Illinois) 2 % cd ..
    >Main< (Program Files (x86)) 3 % cd ..
    >Main< () 4 % cd Users/
    >Main< (Users) 5 % cd Lorenza/Documents/VMDscript/
    >Main< (VMDscript) 6 % source 1f41.tcl
    1425
    >Main< (VMDscript) 7 % 




----- ARIA'S EMAIL: -------

Hello everyone

You can find attached my python script to visualize networks using VMD. To do so you need 2 files:

- The .pdb file with the structure of your protein.
- A pickled NetworkX graph that you can obtain with the nx.write_gpickle() method. The label of nodes in this graph should be of the form X123:A with X being the 1-letter amino acid code, 123 its position in the chain and A the chain.

Then to run the script you need to run the command :
python network_vmd.py pdb_file.pdb pickled_network.p output.tcl
You can add 3 different options :
-nc 1 : the whole graph will be of the same color (in silver if I'm correct). If you don't add that option the graph edges will be colored in red if they have a color attribute whose value is 'r' and in blue otherwise.
-ntodraw X123:A X124:A ... X130:A : it will draw only edges and nodes that are within this list of nodes. You can make the list of nodes as big as you need. I used it to create "zoomed" version of my pictures.
-norm 1.5 : it changes the normalization factor of the visualization if you need to tune the size of edges (relating to the weight attribute of each edge).

Then you just need to open your pdb structure using VMD. Then open the tk console in Extensions > Tk Console. And finally in this console you type the command
source output.tcl
This will draw a representation of your network directly on the protein. Please tell me if you have any trouble with the process.

-----------------------------